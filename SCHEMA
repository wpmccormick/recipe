CREATE TABLE chamber(
		ID			INTEGER PRIMARY KEY,
		NAME		TEXT UNIQUE
	);
CREATE TABLE fan(
		ID			INTEGER PRIMARY KEY,
		GROUP_ID	INTEGER NOT NULL REFERENCES fan_group(ID),
		NAME		TEXT,
		TAG			TEXT,
		SPEED		NUMERIC
	);
CREATE TABLE fan_group(
		ID			INTEGER PRIMARY KEY,
		CHAMBER_ID	INTEGER NOT NULL REFERENCES chamber(ID),
		NAME		TEXT,
		TAG			TEXT,
		ENABLE		NUMERIC
	);
CREATE TABLE melt_pump(
		ID				INTEGER PRIMARY KEY,
		ZONE_ID			INTEGER NOT NULL REFERENCES melt_zone(ID),
		NAME			TEXT,
		TAG				TEXT,
		PRES_IN			NUMERIC,
		PRES_IN_TIME	NUMERIC,
		PRES_IN_MIN		NUMERIC,
		PRES_IN_MAX		NUMERIC,
		PRES_OUT		NUMERIC,
		PRES_OUT_TIME	NUMERIC,
		PRES_OUT_MIN	NUMERIC,
		PRES_OUT_MAX	NUMERIC
	);
CREATE TABLE melt_temp(
		ID				INTEGER PRIMARY KEY,
		ZONE_ID			INTEGER NOT NULL REFERENCES melt_zone(ID),
		NAME			TEXT,
		TAG				TEXT,
		TEMP			NUMERIC,
		TEMP_TIME		NUMERIC,
		TEMP_MIN		NUMERIC,
		TEMP_MAX		NUMERIC
	);
CREATE TABLE melt_zone(
		ID			INTEGER PRIMARY KEY,
		CHAMBER_ID	INTEGER NOT NULL REFERENCES chamber(ID),
		NAME		TEXT,
		TAG			TEXT,
		ENABLE		NUMERIC
	);
CREATE TABLE recipe(
		ID			INTEGER PRIMARY KEY,
		NAME		TEXT UNIQUE
	, DESCRIPTION TEXT);
CREATE TABLE recipe_fan(
		FAN_ID		INTEGER NOT NULL REFERENCES fan(ID),
		RECIPE_ID	INTEGER NOT NULL REFERENCES recipe(ID),
		SPEED		NUMERIC,
		PRIMARY KEY(FAN_ID, RECIPE_ID)
	);
CREATE TABLE recipe_fan_group(
		GROUP_ID	INTEGER NOT NULL REFERENCES fan_group(ID),
		RECIPE_ID	INTEGER NOT NULL REFERENCES recipe(ID),
		ENABLE		NUMERIC,
		PRIMARY KEY(GROUP_ID,RECIPE_ID)
	);
CREATE TABLE recipe_melt(
		MELT_ID			INTEGER,
		RECIPE_ID		INTEGER,
		PRES_IN			NUMERIC,
		PRES_IN_TIME	NUMERIC,
		PRES_IN_MIN		NUMERIC,
		PRES_IN_MAX		NUMERIC,
		PRES_OUT		NUMERIC,
		PRES_OUT_TIME	NUMERIC,
		PRES_OUT_MIN	NUMERIC,
		PRES_OUT_MAX	NUMERIC,
		TEMP			NUMERIC,
		TEMP_TIME		NUMERIC,
		TEMP_MIN		NUMERIC,
		TEMP_MAX		NUMERIC,
		PRIMARY KEY(MELT_ID,RECIPE_ID)
	);
CREATE TABLE recipe_melt_pump(
		PUMP_ID			INTEGER NOT NULL REFERENCES melt_pump(ID),
		RECIPE_ID		INTEGER NOT NULL REFERENCES recipe(ID),
		PRES_IN			NUMERIC,
		PRES_IN_TIME	NUMERIC,
		PRES_IN_MIN		NUMERIC,
		PRES_IN_MAX		NUMERIC,
		PRES_OUT		NUMERIC,
		PRES_OUT_TIME	NUMERIC,
		PRES_OUT_MIN	NUMERIC,
		PRES_OUT_MAX	NUMERIC,
		PRIMARY KEY(PUMP_ID, RECIPE_ID)
	);
CREATE TABLE recipe_melt_temp(
		TEMP_ID			INTEGER NOT NULL REFERENCES melt_temp(ID),
		RECIPE_ID		INTEGER NOT NULL REFERENCES recipe(ID),
		TEMP			NUMERIC,
		TEMP_TIME		NUMERIC,
		TEMP_MIN		NUMERIC,
		TEMP_MAX		NUMERIC,
		PRIMARY KEY(TEMP_ID, RECIPE_ID)
	);
CREATE TABLE recipe_melt_zone(
		ZONE_ID			INTEGER NOT NULL REFERENCES melt_zone(ID),
		RECIPE_ID		INTEGER NOT NULL REFERENCES recipe(ID),
		ENABLE			NUMERIC,
		PRIMARY KEY(ZONE_ID, RECIPE_ID)
	);
CREATE TABLE recipe_solution(
		SOLUTION_ID			INTEGER NOT NULL REFERENCES solution(ID),
		RECIPE_ID			INTEGER NOT NULL REFERENCES recipe(ID),
		DISP_VOL1			NUMERIC,
		DISP_TIME1			NUMERIC,
		DISP_VOL2			NUMERIC,
		DISP_TIME2			NUMERIC,
		SB_VOL				NUMERIC,
		SB_TIME				NUMERIC,
		SB_DELAY			NUMERIC,
		RECHG_TIME			NUMERIC,
		PRE_DISP_VOL		NUMERIC,
		PRE_DISP_TIME		NUMERIC,
		PRE_DISP_DELAY		NUMERIC,
		DISP_CAL_VOL		NUMERIC,
		PRE_DISP_CAL_VOL	NUMERIC,
		PRIMARY KEY(SOLUTION_ID, RECIPE_ID)
	);
CREATE TABLE recipe_spin(
		SPIN_ID		INTEGER NOT NULL REFERENCES spin(ID),
		RECIPE_ID	INTEGER NOT NULL REFERENCES recipe(ID),
		HEIGHT		NUMERIC,
		SPEED 		NUMERIC,
		ACCEL 		NUMERIC,
		DIR			NUMERIC,
		PRIMARY KEY(SPIN_ID, RECIPE_ID)
	);
CREATE TABLE recipe_substrate(
		SUBSTR_ID	INTEGER NOT NULL REFERENCES substrate(ID),
		RECIPE_ID	INTEGER NOT NULL REFERENCES recipe(ID),
		CHARGE		NUMERIC,
		SPEED 		NUMERIC,
		PRIMARY KEY(SUBSTR_ID, RECIPE_ID)
	);
CREATE TABLE solution(
		ID					INTEGER PRIMARY KEY,
		CHAMBER_ID			INTEGER NOT NULL REFERENCES chamber(ID),
		NAME				TEXT,
		TAG					TEXT,
		DISP_VOL1			NUMERIC,
		DISP_TIME1			NUMERIC,
		DISP_VOL2			NUMERIC,
		DISP_TIME2			NUMERIC,
		SB_VOL				NUMERIC,
		SB_TIME				NUMERIC,
		SB_DELAY			NUMERIC,
		RECHG_TIME			NUMERIC,
		PRE_DISP_VOL		NUMERIC,
		PRE_DISP_TIME		NUMERIC,
		PRE_DISP_DELAY		NUMERIC,
		DISP_CAL_VOL		NUMERIC,
		PRE_DISP_CAL_VOL	NUMERIC
	);
CREATE TABLE spin(
		ID			INTEGER PRIMARY KEY,
		CHAMBER_ID	INTEGER NOT NULL REFERENCES chamber(ID),
		NAME		TEXT,
		TAG			TEXT,
		HEIGHT		NUMERIC,
		SPEED 		NUMERIC,
		ACCEL 		NUMERIC,
		DIR			NUMERIC
	);
CREATE TABLE substrate(
		ID			INTEGER PRIMARY KEY,
		CHAMBER_ID	INTEGER NOT NULL REFERENCES chamber(ID),
		NAME		TEXT,
		TAG			TEXT,
		CHARGE		NUMERIC,
		SPEED 		NUMERIC
	);
